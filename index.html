<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLAYER /// ARCHIVE</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Noto+Sans+SC:wght@300;500;700;900&display=swap" rel="stylesheet">
    <style>
        /* --- 0. å…¨å±€å˜é‡ç³»ç»Ÿ --- */
        :root {
            --bg: #050505;
            --card: rgba(20, 20, 30, 0.6);
            --border: rgba(255, 255, 255, 0.1);
            /* ä¸»é¢˜è‰²å ä½ç¬¦ï¼Œç”±JSåŠ¨æ€ä¿®æ”¹ */
            --accent: #c9a063; 
            --glow: rgba(201, 160, 99, 0.5);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; /* éšè—é»˜è®¤é¼ æ ‡ */ }
        
        body {
            background: var(--bg); color: #fff; font-family: 'Noto Sans SC', sans-serif;
            overflow-x: hidden; height: 100vh; width: 100vw;
            transition: background 0.5s;
        }

        /* --- 1. è‡ªå®šä¹‰é¼ æ ‡å…‰æ ‡ --- */
        #cursor {
            position: fixed; top: 0; left: 0; width: 20px; height: 20px;
            border: 2px solid var(--accent); border-radius: 50%;
            transform: translate(-50%, -50%); pointer-events: none; z-index: 9999;
            transition: border-color 0.2s, width 0.2s, height 0.2s;
            mix-blend-mode: difference;
        }
        #cursor-dot {
            position: fixed; top: 0; left: 0; width: 4px; height: 4px;
            background: var(--accent); border-radius: 50%;
            transform: translate(-50%, -50%); pointer-events: none; z-index: 9999;
        }
        body.hovering #cursor { width: 50px; height: 50px; background: rgba(255,255,255,0.1); border-color: transparent; }

        /* --- 2. èƒŒæ™¯ä¸ç²’å­ç”»å¸ƒ --- */
        #bg-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
        .vignette {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0;
            background: radial-gradient(circle, transparent 40%, #000 100%);
        }

        /* --- 3. ç¥å¨ä¹‹çœ¼ (Divine Eye) --- */
        .divine-eye-wrapper {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 600px; height: 600px; pointer-events: none; z-index: 0; opacity: 0.15;
            transition: all 0.5s ease;
        }
        .divine-circle {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            border: 2px solid var(--accent); border-radius: 50%;
            box-shadow: 0 0 30px var(--glow);
        }
        .c1 { width: 300px; height: 300px; border-width: 1px; animation: spin 20s linear infinite; }
        .c2 { width: 240px; height: 240px; border-left-color: transparent; border-right-color: transparent; animation: spin-rev 15s linear infinite; }
        .c3 { width: 100px; height: 100px; background: var(--accent); opacity: 0.2; filter: blur(20px); animation: pulse 3s infinite; }
        .divine-pupil {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(45deg);
            width: 60px; height: 60px; border: 4px solid var(--accent);
            background: radial-gradient(circle, var(--accent) 0%, transparent 70%);
            box-shadow: 0 0 50px var(--accent);
            animation: breathe 4s ease-in-out infinite;
        }

        /* --- 4. å¯¼èˆªåˆ‡æ¢å™¨ (å‡çº§ç‰ˆï¼šå¸¦æ–‡å­—) --- */
        .nav-dock {
            position: fixed; right: 30px; top: 50%; transform: translateY(-50%);
            display: flex; flex-direction: column; gap: 15px;
            z-index: 9990; padding: 20px 15px;
            background: rgba(0,0,0,0.4); backdrop-filter: blur(15px);
            border-radius: 20px; border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        .nav-btn {
            display: flex; align-items: center; gap: 15px;
            padding: 10px 15px; border-radius: 12px; border: 1px solid transparent;
            background: transparent; color: #888; cursor: none;
            transition: 0.3s; text-align: right; width: 100%;
        }
        .nav-icon { font-size: 24px; width: 30px; text-align: center; }
        .nav-text { display: flex; flex-direction: column; align-items: flex-start; }
        .nav-title { font-size: 14px; font-weight: 700; color: #fff; }
        .nav-sub { font-size: 10px; font-family: 'Orbitron'; text-transform: uppercase; opacity: 0.6; }

        /* æ¿€æ´»/æ‚¬åœçŠ¶æ€ */
        .nav-btn:hover { background: rgba(255,255,255,0.05); color: #fff; }
        .nav-btn.active {
            background: var(--accent); border-color: var(--accent);
            box-shadow: 0 0 20px var(--glow); color: #000;
        }
        .nav-btn.active .nav-title { color: #000; }
        .nav-btn.active .nav-sub { color: #000; opacity: 0.8; }

        /* --- 5. éŸ³æ³¢æ ¸å¿ƒæ’­æ”¾å™¨ (Music Player) --- */
        .sonic-core {
            position: fixed; bottom: 30px; left: 30px; z-index: 9990;
            width: 320px; transition: 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        .sonic-core.collapsed { width: 50px; height: 50px; overflow: hidden; border-radius: 50%; }
        
        .player-container {
            background: rgba(10, 12, 16, 0.8); backdrop-filter: blur(20px);
            border: 1px solid var(--border); border-left: 3px solid var(--accent);
            border-radius: 12px; padding: 15px; position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); overflow: hidden;
        }
        .sonic-core:hover .player-container { border-color: var(--accent); box-shadow: 0 0 20px var(--glow); }
        
        /* æŠ˜å æŒ‰é’® */
        .toggle-music {
            position: absolute; top: -15px; right: -15px; width: 30px; height: 30px;
            background: var(--accent); border-radius: 50%; cursor: none;
            display: flex; align-items: center; justify-content: center;
            font-size: 12px; color: #000; z-index: 10; transition: 0.3s; opacity: 0;
        }
        .sonic-core:hover .toggle-music { opacity: 1; top: -10px; right: -10px; }
        
        /* è£…é¥°æ€§çš„éŸ³æ³¢æ¡ */
        .visualizer {
            display: flex; gap: 3px; margin-bottom: 10px; height: 15px; align-items: flex-end;
        }
        .bar { width: 4px; background: var(--accent); animation: equalizer 1s infinite ease-in-out; }
        .bar:nth-child(1) { animation-delay: 0.1s; height: 40%; }
        .bar:nth-child(2) { animation-delay: 0.3s; height: 80%; }
        .bar:nth-child(3) { animation-delay: 0.5s; height: 50%; }
        .bar:nth-child(4) { animation-delay: 0.2s; height: 90%; }
        .bar:nth-child(5) { animation-delay: 0.4s; height: 60%; }

        .music-label { font-family: 'Orbitron'; font-size: 10px; color: var(--accent); letter-spacing: 2px; margin-bottom: 5px; display: block; }

        /* --- 6. å¸ƒå±€å®¹å™¨ --- */
        .container {
            position: relative; z-index: 10; max-width: 1100px; margin: 0 auto; padding: 40px;
            display: flex; flex-direction: column; height: 100vh; justify-content: center;
        }

        /* --- 7. å¤´éƒ¨ä¿¡æ¯å¡ --- */
        header {
            display: flex; gap: 40px; align-items: center; margin-bottom: 40px;
            background: rgba(255,255,255,0.02); backdrop-filter: blur(10px);
            padding: 30px; border-radius: 20px; border: 1px solid var(--border);
            transition: 0.3s; margin-right: 160px; /* å¢åŠ å³ä¾§ç•™ç™½ç»™æ–°å¯¼èˆªæ  */
        }
        header:hover { border-color: var(--accent); box-shadow: 0 0 30px var(--glow); }

        .avatar-box { position: relative; width: 120px; height: 120px; flex-shrink: 0; overflow: hidden; border-radius: 50%; border: 3px solid var(--accent); }
        .avatar-box img { width: 100%; height: 100%; object-fit: cover; transition: 0.3s; }
        .glitch-effect { animation: glitch-anim 0.3s infinite; filter: hue-rotate(90deg); }

        .info-box h1 { font-family: 'Orbitron'; font-size: 3rem; line-height: 1; margin-bottom: 10px; text-shadow: 0 0 10px var(--glow); }
        .id-badge { display: inline-block; padding: 5px 15px; background: rgba(255,255,255,0.05); border: 1px solid var(--accent); color: var(--accent); font-family: 'Orbitron'; font-size: 0.9rem; border-radius: 4px; }

        /* --- 8. å†…å®¹åŒºåŸŸ --- */
        .content-wrapper { position: relative; height: 450px; perspective: 1000px; margin-right: 100px; }
        .game-section {
            display: none; width: 100%; height: 100%;
            grid-template-columns: 1.2fr 0.8fr; gap: 30px;
            animation: slideIn 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
        }
        .game-section.active { display: grid; }

        /* å¡ç‰‡ */
        .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; align-content: start; }
        .card {
            background: var(--card); padding: 25px; border-radius: 15px; border: 1px solid var(--border);
            transition: 0.3s; transform-style: preserve-3d; position: relative;
        }
        .card:hover { border-color: var(--accent); transform: translateZ(20px); box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .card h3 { font-size: 0.8rem; color: #aaa; margin-bottom: 5px; text-transform: uppercase; letter-spacing: 1px; }
        .card .val { font-family: 'Orbitron'; font-size: 2.2rem; font-weight: 700; color: var(--accent); text-shadow: 0 0 15px var(--glow); }
        .card .sub { font-size: 0.8rem; color: #666; margin-top: 5px; }

        /* ç«‹ç»˜å±•ç¤º */
        .hero-showcase {
            position: relative; border-radius: 20px; overflow: hidden; border: 1px solid var(--border);
            background: radial-gradient(circle at center, rgba(255,255,255,0.05), transparent);
            display: flex; flex-direction: column; justify-content: flex-end; padding: 30px;
        }
        .hero-img {
            position: absolute; top: 0; right: -20px; height: 110%; width: auto; object-fit: contain;
            opacity: 0.8; transition: 0.5s; z-index: 0; mask-image: linear-gradient(to bottom, black 70%, transparent 100%);
        }
        .hero-showcase:hover .hero-img { transform: scale(1.05) translateX(-10px); opacity: 1; }
        .hero-text { position: relative; z-index: 1; }
        .hero-name { font-family: 'Orbitron'; font-size: 3.5rem; color: #fff; font-weight: 900; line-height: 0.9; text-transform: uppercase; }
        .hero-role { color: var(--accent); font-weight: 700; letter-spacing: 2px; margin-bottom: 10px; display: block; }

        /* --- åŠ¨ç”» --- */
        @keyframes spin { 100% { transform: translate(-50%, -50%) rotate(360deg); } }
        @keyframes spin-rev { 100% { transform: translate(-50%, -50%) rotate(-360deg); } }
        @keyframes pulse { 0%, 100% { opacity: 0.2; transform: translate(-50%, -50%) scale(1); } 50% { opacity: 0.4; transform: translate(-50%, -50%) scale(1.2); } }
        @keyframes breathe { 0%, 100% { transform: translate(-50%, -50%) rotate(45deg) scale(1); box-shadow: 0 0 30px var(--accent); } 50% { transform: translate(-50%, -50%) rotate(45deg) scale(1.1); box-shadow: 0 0 60px var(--accent); } }
        @keyframes slideIn { from { opacity: 0; transform: translateY(30px) scale(0.95); } to { opacity: 1; transform: translateY(0) scale(1); } }
        @keyframes equalizer { 0%, 100% { height: 20%; } 50% { height: 100%; } }
        @keyframes glitch-anim {
            0% { clip-path: inset(20% 0 80% 0); transform: translate(-2px, 1px); }
            100% { clip-path: inset(30% 0 50% 0); transform: translate(1px, -1px); }
        }

        /* --- ç§»åŠ¨ç«¯é€‚é… --- */
        @media (max-width: 768px) {
            .container { padding: 20px; height: auto; display: block; padding-bottom: 120px; }
            .divine-eye-wrapper { width: 300px; height: 300px; }
            
            /* ç§»åŠ¨ç«¯å¯¼èˆªæ  */
            .nav-dock {
                position: fixed; top: auto; bottom: 0; right: 0; left: 0; transform: none;
                flex-direction: row; width: 100%; justify-content: space-around;
                background: rgba(10,10,15,0.95); border-radius: 20px 20px 0 0; padding: 10px; gap: 5px;
            }
            .nav-btn { flex-direction: column; align-items: center; text-align: center; padding: 5px; gap: 5px; }
            .nav-icon { font-size: 20px; }
            .nav-text { align-items: center; }
            .nav-sub { display: none; } /* ç§»åŠ¨ç«¯éšè—è‹±æ–‡ä»¥èŠ‚çœç©ºé—´ */
            
            .sonic-core { bottom: 90px; left: 20px; width: 280px; }
            header { margin-right: 0; flex-direction: column; text-align: center; }
            .content-wrapper { margin-right: 0; height: auto; }
            .game-section { grid-template-columns: 1fr; gap: 20px; }
            .hero-showcase { height: 350px; }
            .hero-img { right: -50px; height: 100%; }
            #cursor, #cursor-dot { display: none; }
        }
    </style>
</head>
<body>

    <div id="cursor"></div>
    <div id="cursor-dot"></div>

    <canvas id="bg-canvas"></canvas>
    <div class="vignette"></div>

    <div class="divine-eye-wrapper" id="divine-eye">
        <div class="divine-circle c1"></div>
        <div class="divine-circle c2"></div>
        <div class="divine-circle c3"></div>
        <div class="divine-pupil"></div>
    </div>

    <div class="nav-dock">
        <button class="nav-btn active magnetic-item" onclick="changeTheme('jh')">
            <div class="nav-icon">ğŸ—¡ï¸</div>
            <div class="nav-text">
                <span class="nav-title">ç‡•äº‘åå…­å£°</span>
                <span class="nav-sub">JUSTICE</span>
            </div>
        </button>
        <button class="nav-btn magnetic-item" onclick="changeTheme('ow')">
            <div class="nav-icon">ğŸ›¡ï¸</div>
            <div class="nav-text">
                <span class="nav-title">å®ˆæœ›å…ˆé”‹</span>
                <span class="nav-sub">OVERWATCH</span>
            </div>
        </button>
        <button class="nav-btn magnetic-item" onclick="changeTheme('vl')">
            <div class="nav-icon">ğŸ”«</div>
            <div class="nav-text">
                <span class="nav-title">æ— ç•å¥‘çº¦</span>
                <span class="nav-sub">VALORANT</span>
            </div>
        </button>
    </div>

    <div class="sonic-core magnetic-item" id="music-player">
        <button class="toggle-music" onclick="toggleMusic()">_</button>
        <div class="player-container">
            <span class="music-label">SONIC MODULE /// ONLINE</span>
            <div class="visualizer">
                <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
            </div>
            <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="100%" height="86" src="//music.163.com/outchain/player?type=0&id=399368731&auto=1&height=66"></iframe>
        </div>
    </div>

    <div class="container">
        <header class="magnetic-item">
            <div class="avatar-box">
                <img id="avatar-img" src="" alt="Avatar">
            </div>
            <div class="info-box">
                <h1 id="user-name">LOADING...</h1>
                <div class="id-badge" id="user-id">ID: LOADING...</div>
            </div>
        </header>

        <div class="content-wrapper">
            
            <div id="sec-jh" class="game-section active">
                <div class="stats-grid">
                    <div class="card magnetic-item">
                        <h3>æ¸¸å†æ—¶é•¿</h3>
                        <div class="val">687.6<span style="font-size:1rem">h</span></div>
                        <div class="sub">å·²å…¥ä¸– 331 å¤©</div>
                    </div>
                    <div class="card magnetic-item">
                        <h3>æœ€é«˜é€ è¯£</h3>
                        <div class="val">3.5w</div>
                        <div class="sub">æ­¦æ—æˆ˜åŠ›è¯„ä¼°</div>
                    </div>
                    <div class="card magnetic-item">
                        <h3>é£åå€¼</h3>
                        <div class="val">37944</div>
                        <div class="sub">å…¨æœæ’åå‰ 5%</div>
                    </div>
                    <div class="card magnetic-item">
                        <h3>æ¢ç´¢æ·±åº¦</h3>
                        <div class="val">100%</div>
                        <div class="sub">æ¸…æ²³ / å¼€å° åŒºåŸŸ</div>
                    </div>
                </div>
                <div class="hero-showcase magnetic-item">
                    <div class="hero-text">
                        <span class="hero-role">å¤©çºµå¥‡æ‰</span>
                        <div class="hero-name">æ— å<br>å‰‘å®¢</div>
                    </div>
                    <img class="hero-img" src="https://images.unsplash.com/photo-1514539079130-25950c84af65?q=80&w=800&auto=format&fit=crop" alt="Hero">
                </div>
            </div>

            <div id="sec-ow" class="game-section">
                <div class="stats-grid">
                    <div class="card magnetic-item">
                        <h3>ç»¼åˆ KDA</h3>
                        <div class="val">1.52</div>
                        <div class="sub">æ¶ˆç­ / é˜µäº¡ / åŠ©æ”»</div>
                    </div>
                    <div class="card magnetic-item">
                        <h3>æœ¬å­£èƒœç‡</h3>
                        <div class="val">48.2%</div>
                        <div class="sub">åœºæ¬¡ 383 / 794</div>
                    </div>
                    <div class="card magnetic-item">
                        <h3>æœ€ä½³èŒè´£</h3>
                        <div class="val">è¾“å‡º</div>
                        <div class="sub">èƒœç‡ 52.50%</div>
                    </div>
                    <div class="card magnetic-item">
                        <h3>ç”Ÿæ¶¯æ—¶é•¿</h3>
                        <div class="val">96<span style="font-size:1rem">h</span></div>
                        <div class="sub">æˆ˜æ–—ç»éªŒä¸°å¯Œ</div>
                    </div>
                </div>
                <div class="hero-showcase magnetic-item">
                    <div class="hero-text">
                        <span class="hero-role">HEROES NEVER DIE</span>
                        <div class="hero-name">å£«å…µ76<br>76</div>
                    </div>
                    <img class="hero-img" src="https://images.unsplash.com/photo-1542751371-adc38448a05e?q=80&w=800&auto=format&fit=crop" alt="OW">
                </div>
            </div>

            <div id="sec-vl" class="game-section">
                <div class="stats-grid">
                    <div class="card magnetic-item">
                        <h3>èµ›å­£ K/D</h3>
                        <div class="val">1.59</div>
                        <div class="sub">ç²¾å‡†å‡»è´¥ 28.7%</div>
                    </div>
                    <div class="card magnetic-item">
                        <h3>èµ›å­£èƒœç‡</h3>
                        <div class="val">60.0%</div>
                        <div class="sub">è¯„åˆ† ACS 272.5</div>
                    </div>
                    <div class="card magnetic-item">
                        <h3>æ“…é•¿ç‰¹å·¥</h3>
                        <div class="val">REYNA</div>
                        <div class="sub">å†³æ–—è€… / åå™¬</div>
                    </div>
                    <div class="card magnetic-item">
                        <h3>è´¦å·ç­‰çº§</h3>
                        <div class="val">Lv.67</div>
                        <div class="sub">æ€»æ—¶é•¿ 229h</div>
                    </div>
                </div>
                <div class="hero-showcase magnetic-item">
                    <div class="hero-text">
                        <span class="hero-role">DUELIST</span>
                        <div class="hero-name">REYNA<br>èŠ®å¨œ</div>
                    </div>
                    <img class="hero-img" src="https://youke1.picui.cn/s1/2025/11/22/6921b0303a873.jpeg" alt="Reyna">
                </div>
            </div>

        </div>
    </div>

    <script>
        // --- æ•°æ®é…ç½®åŒº ---
        const userData = {
            jh: {
                name: "äºˆæ‚”",
                id: "034******71",
                accent: "#c9a063",
                avatar: "https://youke1.picui.cn/s1/2025/11/22/6921a6e71a95d.png"
            },
            ow: {
                name: "æ²æœ¨é¸¢",
                id: "#5262",
                accent: "#00f2ff",
                avatar: "https://images.unsplash.com/photo-1614680376593-902f74cf0d41?q=80&w=200&auto=format&fit=crop"
            },
            vl: {
                name: "æé€é¥",
                id: "#88783",
                accent: "#ff4655",
                avatar: "https://youke1.picui.cn/s1/2025/11/22/6921b0296c09e.jpeg"
            }
        };

        const root = document.documentElement;
        let currentTheme = 'jh';
        
        window.onload = () => changeTheme('jh');

        // åˆ‡æ¢ä¸»é¢˜
        function changeTheme(theme) {
            currentTheme = theme;
            const data = userData[theme];
            
            root.style.setProperty('--accent', data.accent);
            root.style.setProperty('--glow', hexToRgba(data.accent, 0.5));

            const avatar = document.getElementById('avatar-img');
            avatar.parentElement.classList.add('glitch-effect');
            setTimeout(() => {
                avatar.src = data.avatar;
                document.getElementById('user-name').innerText = data.name;
                document.getElementById('user-id').innerText = "ID: " + data.id;
                avatar.parentElement.classList.remove('glitch-effect');
            }, 300);

            document.querySelectorAll('.game-section').forEach(el => el.classList.remove('active'));
            document.getElementById(`sec-${theme}`).classList.add('active');

            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            event.currentTarget ? event.currentTarget.classList.add('active') : document.querySelector('.nav-btn').classList.add('active');

            initParticles();
        }

        // éŸ³ä¹æ’­æ”¾å™¨æŠ˜å åŠŸèƒ½
        function toggleMusic(id=7668816056) {
            const player = document.getElementById('music-player');
            player.classList.toggle('collapsed');
        }

        function hexToRgba(hex, alpha) {
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            return `rgba(${r}, ${g}, ${b}, ${alpha})`;
        }

        // --- äº¤äº’ ---
        const cursor = document.getElementById('cursor');
        const cursorDot = document.getElementById('cursor-dot');
        const eyeWrapper = document.getElementById('divine-eye');

        document.addEventListener('mousemove', (e) => {
            const x = e.clientX;
            const y = e.clientY;
            cursor.style.left = x + 'px'; cursor.style.top = y + 'px';
            cursorDot.style.left = x + 'px'; cursorDot.style.top = y + 'px';

            const moveX = (window.innerWidth / 2 - x) * 0.05;
            const moveY = (window.innerHeight / 2 - y) * 0.05;
            eyeWrapper.style.transform = `translate(calc(-50% + ${moveX}px), calc(-50% + ${moveY}px))`;
        });

        document.querySelectorAll('.magnetic-item').forEach(item => {
            item.addEventListener('mousemove', (e) => {
                document.body.classList.add('hovering');
                const rect = item.getBoundingClientRect();
                const x = e.clientX - rect.left - rect.width / 2;
                const y = e.clientY - rect.top - rect.height / 2;
                item.style.transform = `translate(${x * 0.2}px, ${y * 0.2}px)`;
                if (item.classList.contains('card')) {
                     item.style.transform += ` rotateY(${x * 0.1}deg) rotateX(${-y * 0.1}deg)`;
                }
            });
            item.addEventListener('mouseleave', () => {
                document.body.classList.remove('hovering');
                item.style.transform = 'translate(0, 0)';
            });
        });

        // --- Canvas ç²’å­ ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];

        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor() { this.reset(); }
            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 3 + 1;
                this.life = Math.random();
                if (currentTheme === 'jh') {
                    this.speedY = Math.random() * 1 + 0.5; this.speedX = Math.random() * 0.5;
                } else if (currentTheme === 'ow') {
                    this.speedY = -Math.random() * 2; this.speedX = 0;
                } else {
                    this.speedX = (Math.random() - 0.5) * 4; this.speedY = (Math.random() - 0.5) * 4;
                }
            }
            update() {
                this.x += this.speedX; this.y += this.speedY; this.life -= 0.005;
                if (this.life <= 0 || this.x < 0 || this.x > canvas.width || this.y < 0 || this.y > canvas.height) this.reset();
            }
            draw() {
                ctx.globalAlpha = this.life; ctx.fillStyle = userData[currentTheme].accent; ctx.beginPath();
                if (currentTheme === 'ow') ctx.fillRect(this.x, this.y, this.size, this.size);
                else { ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill(); }
            }
        }

        function initParticles() { particles = []; for(let i=0; i<80; i++) particles.push(new Particle()); }
        function animate() { ctx.clearRect(0, 0, canvas.width, canvas.height); particles.forEach(p => { p.update(); p.draw(); }); requestAnimationFrame(animate); }
        
        initParticles();
        animate();
    </script>
</body>
</html>
